<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>æœ‰è¶£çš„ TypeScript å‹åˆ¥ç”¨æ³•èˆ‡æ©Ÿåˆ¶ Part 2 | YP&#39;s Dev Memo</title>
<meta name="keywords" content="first">
<meta name="description" content="Dive into TypeScript&#39;s mechanism">
<meta name="author" content="Yu-Pang">
<link rel="canonical" href="https://canonical.url/to/page">
<link crossorigin="anonymous" href="/assets/css/stylesheet.c5ad9f205171fab820252a87a0292578dcaa85c950f40ab21addf6cb9611c26a.css" integrity="" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.acb54fd32bbc1982428b8850317e45d076b95012730a5936667e6bc21777692a.js" integrity="sha256-rLVP0yu8GYJCi4hQMX5F0Ha5UBJzClk2Zn5rwhd3aSo="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://AlliesChen.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://AlliesChen.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://AlliesChen.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://AlliesChen.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://AlliesChen.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript> <link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.css"
  integrity="sha384-bYdxxUwYipFNohQlHt0bjN/LCpueqWz13HufFEV1SUatKs1cm4L6fFgCi1jT643X"
  crossorigin="anonymous"
/>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/katex.min.js"
  integrity="sha384-Qsn9KnoKISj6dI8g7p1HBlNpVx0I8p1SvlwOldgi3IorMle61nQy4zEahWYtljaz"
  crossorigin="anonymous"
></script>
<script
  defer
  src="https://cdn.jsdelivr.net/npm/katex@0.16.2/dist/contrib/auto-render.min.js"
  integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
  crossorigin="anonymous"
></script>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    renderMathInElement(document.body, {
      
      
      delimiters: [
        { left: "$$", right: "$$", display: true },
        { left: "$", right: "$", display: false },
        { left: "\\(", right: "\\)", display: false },
        { left: "\\[", right: "\\]", display: true },
      ],
      
      throwOnError: false,
    });
  });
</script>
 
<meta property="og:title" content="æœ‰è¶£çš„ TypeScript å‹åˆ¥ç”¨æ³•èˆ‡æ©Ÿåˆ¶ Part 2" />
<meta property="og:description" content="Dive into TypeScript&#39;s mechanism" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://AlliesChen.github.io/posts/have_fun_with_typescript_part2/" />
<meta property="og:image" content="https://AlliesChen.github.io/%3Cimage%20path/url%3E" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-12-16T15:01:10&#43;08:00" />
<meta property="article:modified_time" content="2022-12-16T15:01:10&#43;08:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://AlliesChen.github.io/%3Cimage%20path/url%3E" />
<meta name="twitter:title" content="æœ‰è¶£çš„ TypeScript å‹åˆ¥ç”¨æ³•èˆ‡æ©Ÿåˆ¶ Part 2"/>
<meta name="twitter:description" content="Dive into TypeScript&#39;s mechanism"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://AlliesChen.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "æœ‰è¶£çš„ TypeScript å‹åˆ¥ç”¨æ³•èˆ‡æ©Ÿåˆ¶ Part 2",
      "item": "https://AlliesChen.github.io/posts/have_fun_with_typescript_part2/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "æœ‰è¶£çš„ TypeScript å‹åˆ¥ç”¨æ³•èˆ‡æ©Ÿåˆ¶ Part 2",
  "name": "æœ‰è¶£çš„ TypeScript å‹åˆ¥ç”¨æ³•èˆ‡æ©Ÿåˆ¶ Part 2",
  "description": "Dive into TypeScript's mechanism",
  "keywords": [
    "first"
  ],
  "articleBody": "ç¹¼ä¸Šä¸€ç¯‡ â€“ æœ‰è¶£çš„ TypeScript å‹åˆ¥ç”¨æ³•èˆ‡æ©Ÿåˆ¶ï¼Œé€™æ¬¡é–±è®€åˆ° Gabriel Vergnaud çš„ Type-Level TypeScript é€™ç³»åˆ—æ–‡ç« çš„ç¬¬ 1 åˆ° 4 ç« ï¼Œå±¬æ–¼å…è²»é–±è®€çš„ç« ç¯€ï¼Œè®“æˆ‘é‡æ–°èªè­˜äº† TypeScript (ä»¥ä¸‹ç°¡ç¨± TS) çš„å‹åˆ¥ç³»çµ±ï¼›è©²ç³»åˆ—æ–‡ç« ä¸­æœ‰æä¾›å³æ™‚çš„ç¨‹å¼ç¢¼ç·¨è¼¯å€å¡Šï¼Œæ¯ä¸€ç« æœ€å¾Œéƒ½æœ‰å°æ¸¬é©—ï¼Œé–±è®€èˆ‡å­¸ç¿’çš„é«”é©—éƒ½å¾ˆæ£’ï¼Œéå¸¸å€¼å¾—ä¸€çœ‹ã€‚\né€™ç¯‡æ–‡ç« çš„å…§å®¹æ˜¯æˆ‘å€‹äººé‡å°é€™ç³»åˆ—åšçš„ä¸€å€‹å­¸ç¿’ç­†è¨˜ï¼Œåœ¨å¯«é€™ç¯‡æ–‡ç« æ™‚ä¹Ÿæ„å¤–ç™¼ç¾å…¶å¯¦ Gabriel æåˆ°çš„å…§å®¹ï¼ŒTS å®˜ç¶²ä¸Šéƒ½æœ‰æ¢ç›®å¯«åˆ°ï¼›éå»åªæ˜¯è®€éï¼Œå¾æ²’ç†è§£éğŸ˜…ã€‚\nLevels of Language è²«ç©¿è©²ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€å€‹é‡é»ï¼›language of values (value-level) å’Œ language of types (type-level)ï¼ŒJavaScript (ä»¥ä¸‹ç°¡ç¨± JS) å› ç‚º(é‚„)æ²’æœ‰å‹åˆ¥çš„èªæ³•æ‰€ä»¥ 100% æ˜¯ value-level èªè¨€ã€‚\né‚„æ²’æœ‰ï¼Œä½†æ­£åœ¨ææ¡ˆä¸­çš„å‹åˆ¥è¨»é‡‹â€“ tc39/proposal-type-annotations: ECMAScript proposal for type syntax that is erased - Stage 1\nå¦‚æœå° TS å¯¦ä½œä¸é™Œç”Ÿï¼Œæœ‰å€‹éŒ¯èª¤å°±æ˜¯ï¼š'Somthing' only refers to a type, but is being used as a value hereâ€“ TS Playgroundï¼›æ­£æ˜¯é€™å€‹ value å’Œ type çš„æ¦‚å¿µã€‚æ–¼æ˜¯ä¹ï¼ŒTS ä¸åªæ˜¯çµ¦ JS å¯„ä½çš„å¤–æ®¼ï¼Œè€Œæ˜¯ç”¨ä¾†æ’°å¯«å‹åˆ¥ï¼Œtype-level ç¨‹å¼èªè¨€ã€‚\nGenericsâ€“ æ³›å‹ ä¸Šä¸€ç¯‡æé JS/TS å…§å»ºçš„å‹åˆ¥å¯ä»¥é€éçµ¦ type parameter é€² ä¾†ç”¢ç”Ÿå‹åˆ¥ï¼Œåƒæ˜¯â€“ TS Playground\ntype ObjType = Record\u003cstring, number\u003e; const beverageOrder = new Map\u003cstring, number\u003e(); éå»æˆ‘ä¸€ç›´ä»¥ç‚ºæ³›å‹çš„æ‡‰ç”¨ä¸€å®šè¦çµ¦ type parameter åšå‹åˆ¥å®£å‘Šï¼Œåƒæ˜¯é€™æ¨£â€“ TS Playgroundï¼š\ntype LogType\u003cA, B\u003e = (P: A, Cb: B) =\u003e B; // A higher order function // log out the types of a function's input(parameter) and its output function logType(param: unknown, cb: (val: unknown) =\u003e unknown) { const result = cb(param); console.log(`Input Type: ${typeof param}\\nOutput Type = ${typeof result}`) return result; } const res1 = logType( 1234, (val) =\u003e JSON.stringify(val) ) as LogType\u003cnumber, string\u003e; const res2 = logType( {id: 1234, name: \"foo\"}, (val) =\u003e Object.keys(val as Object).map(item =\u003e item.toUpperCase()) ) as LogType\u003cobject, Array\u003cstring\u003e\u003e; console.log(\"res1\", res1); // \"1234\" console.log(\"res2\", res2); // [\"ID\", \"NAME\"] åˆè‡­åˆé•·ï¼Œä¸ä½†éœ€è¦å…ˆè¨‚å¥½è¼¸å…¥èˆ‡è¼¸å‡ºçš„ type parametersï¼Œé‚„è¦é  as æŠŠå‹åˆ¥çµ¦ä¸Šå»ï¼Œç”šè‡³åœ¨ res2 çš„ Object.keys() ä¸­ä¹Ÿéœ€è¦çµ¦ val åƒæ•¸ç”¨ as åŠ å®šç¾©ï¼Œä¸åƒ…é›£ä»¥è¤‡ç”¨ï¼Œé‚„è¦å¯«å¤ªå¤šç¨‹å¼ç¢¼äº†ã€‚\nä½†é‡æ–°èªè­˜æ³›å‹å¾Œï¼Œæ‰çŸ¥é“å¯ä»¥é€™æ¨£æ‡‰ç”¨â€“ TS Playgroundï¼š\n// A higher order function // log out the types of a function's input(parameter) and its output function logType\u003cInput, Output\u003e(param: Input, cb: (val: Input) =\u003e Output): Output { const result = cb(param); console.log(`Input Type: ${typeof param}\\nOutput Type = ${typeof result}`) return result; } const res1 = logType( 1234, (val) =\u003e JSON.stringify(val) ); const res2 = logType( {id: 1234, name: \"foo\"}, (val) =\u003e Object.keys(val).map(item =\u003e item.toUpperCase()) ); console.log(\"res1\", res1); // \"1234\" console.log(\"res2\", res2); // [\"ID\", \"NAME\"] å¯ä»¥çœ‹åˆ° logType ä½¿ç”¨äº†æ³›å‹å®£å‘Š Input å’Œ Outputï¼Œä½†åœ¨æŒ‡æ´¾çµ¦ res1 ä½¿ç”¨æ™‚å»ä¸å¿…çµ¦ type parametersï¼Œè€Œæ˜¯åéä¾†ï¼Œç”± TS å¾çµ¦é€²å»çš„åƒæ•¸æ¨æ–· Input å’Œ Output è©²æœ‰çš„å‹åˆ¥æ˜¯ä»€éº¼ã€‚\nData Structures åœ¨åŸç³»åˆ—æ–‡ç« çš„ç¬¬äºŒç« â€“ Types are just data - Data Structures è©²ç¯€ä¸­æåˆ°ï¼š\nIn our type-level world, we have four built-in data structures at our disposal:\nå››å€‹ type-level çš„è³‡æ–™çµæ§‹ç‚ºï¼š\ntype ObjectType: {key1: number, key2: string}; // æœ‰é™çš„éµ(key)æ•¸é…å°ä¸åŒå‹åˆ¥çš„å€¼(value) type RecordType: {[key: string]: number}; // é¡ä¼¼ object typeï¼Œä½†ç‚ºä¸é™æ•¸é‡çš„éµé…å°ç‰¹å®šå‹åˆ¥çš„å€¼ type TupleType: [string, number]; // æœ‰é™é•·åº¦çš„è³‡æ–™é›†ï¼Œå€‹åˆ¥è³‡æ–™çš„å‹åˆ¥å¯èƒ½ä¸åŒ type ArrayType: number[]; // æœªçŸ¥é•·åº¦çš„è³‡æ–™é›†ï¼Œä½†èˆ‡ record type ç›¸åƒï¼Œæ‰€æœ‰è³‡æ–™æœ‰ç‰¹å®šçš„å‹åˆ¥ é€™å››å€‹è³‡æ–™çµæ§‹åˆ†åˆ¥åœ¨è©²ç³»åˆ—æ–‡ç« çš„ï¼Œ\nç¬¬ä¸‰ç«  Objects \u0026 Records ç¬¬å››ç«  Arrays \u0026 Tuples æ·±å…¥çš„è¨è«–å››ç¨®å‹åˆ¥è³‡æ–™çµæ§‹çš„ç‰¹æ€§ï¼Œå¦‚ä½• merge åŠ extract ç•¶ä¸­çš„å±¬æ€§â€¦ç­‰ã€‚\nTypes are Sets åœ¨åŸç³»åˆ—æ–‡ç« çš„ç¬¬äºŒç« â€“ Types are just data - Types are Sets æåˆ°ï¼Œ\nAn interesting feature of TypeScript is that a value can belong to more than one type.\né€™æ˜¯ç¬¬äºŒå€‹è²«ç©¿ç³»åˆ—æ–‡ç« çš„é‡é»â€“ assignabilityï¼›\nä¸‹é¢é€™å€‹éŒ¯èª¤è¨Šæ¯åœ¨ TypeScript å¸¸è¦‹åˆ°ï¼Œ\nâ€œType A is not assignable to Type Bâ€\næ”¾å€‹æ–¹å‘æƒ³ï¼Œç•¶\"A is assignable to B\"ï¼ŒA å³æ˜¯ B çš„ subsetï¼ŒB çš„å‹åˆ¥ç¯„åœæ¶µè“‹ A çš„å‹åˆ¥ç¯„åœï¼Œæ‰€ä»¥å¯ä»¥æŠŠ A æ”¾é€² B è£¡ï¼ŒGabriel (è©²æ–‡ç« ä½œè€…) ç¨±ä¹‹ç‚º assignabilityã€‚\nObjects and Records æ–‡ç« ç¬¬ä¸‰ç« ä¸­æåˆ°ï¼Œé—œæ–¼ç‰©ä»¶å‹åˆ¥ï¼Œåœ¨ TS ä¸­è·Ÿ JS ä¸åŒçš„åœ°æ–¹ï¼š\nåœ¨ type-levelï¼Œè¦è®€ç‰©ä»¶çš„å±¬æ€§ä¸èƒ½ç”¨ dot (obj.prop) åªèƒ½ç”¨ square brackets notation: obj[\"prop\"] namespace ä¸­ export å‡ºä¾†çš„ç‰©ä»¶å€’æ˜¯å¯ä»¥ç”¨ dot è®€å–â€“ TS Playground\nValue-level (JS) çš„ Logical AND (\u0026\u0026) / OR (||) operator å’Œ type-level (TS) ä¸­ union (|) / intersection (\u0026) é‹ä½œæ©Ÿåˆ¶æ˜¯ä¸åŒçš„â€“ TS Playground JS ä¸­ç‰©ä»¶å±¬æ€§çš„ merging æœƒé€é spread operator (...) æˆ–ç‰©ä»¶æ–¹æ³•ï¼Œå¦‚ Object.assign() é”æˆï¼Œåœ¨ type-level ä¸­å‰‡æ˜¯ç”¨ \u0026ã€extendsï¼Œæˆ– implements ç­‰é”æˆï¼Œå¯ä»¥åƒè€ƒ stackoverflow ä¸Šçš„é€™å‰‡å›ç­”ã€‚ é¡Œå¤–è©±ï¼šGabriel æœ‰æåˆ°ç”±æ–¼åœ¨ type ä½¿ç”¨ \u0026 ä¾† merge å±¬æ€§ TS æœƒæŒçºŒéæ­·éç•¶ä¸­å…¨éƒ¨çš„å‹åˆ¥ä¾†ç”¢ç”Ÿæœ€çµ‚çš„çµæœï¼Œå¦‚æœä¸æ˜¯éœ€è¦æ³›å‹ï¼Œinterface æœƒæ˜¯æ•ˆèƒ½ä¸Šæ¯”è¼ƒå¥½çš„é¸æ“‡ï¼Œè©³ç´°çš„èªªæ˜å¯ä»¥åƒè€ƒé€™ç¯‡æ–‡ç« çš„ç« ç¯€ã€‚\nArrays and Tuples æ–‡ç« ç¬¬å››ç« ä¸­æåˆ°ï¼Œé—œæ–¼é™£åˆ—å‹åˆ¥çš„æ‡‰ç”¨å’Œç‰¹è‰²ï¼š\næƒ³è¦å–åˆ°é™£åˆ—ä¸­çš„å€¼çš„ã€Œå‹åˆ¥ã€å¯ä»¥ç”¨ arr[number]\nä½¿ç”¨ keyof å¯èƒ½ä¸æ˜¯ç†æƒ³çš„é¸æ“‡ï¼Œè©¦æƒ³åœ¨ JS ä¸­ä¸‹é¢é€™æ®µç¨‹å¼ç¢¼æœƒå°å‡ºä»€éº¼ï¼Ÿåœ¨ type-level ä¹Ÿæœƒæ‹¿åˆ°é€™äº›å…§å»ºçš„å±¬æ€§éµï¼š\nconst arr = ['foo', 'bar', 'map'] console.log(arr['map']) ",
  "wordCount" : "536",
  "inLanguage": "en",
  "image":"https://AlliesChen.github.io/%3Cimage%20path/url%3E","datePublished": "2022-12-16T15:01:10+08:00",
  "dateModified": "2022-12-16T15:01:10+08:00",
  "author":{
    "@type": "Person",
    "name": "Yu-Pang"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://AlliesChen.github.io/posts/have_fun_with_typescript_part2/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "YP's Dev Memo",
    "logo": {
      "@type": "ImageObject",
      "url": "https://AlliesChen.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://AlliesChen.github.io/" accesskey="h" title="YP&#39;s Dev Memo (Alt + H)">YP&#39;s Dev Memo</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://AlliesChen.github.io/categories/" title="categories">
                    <span>categories</span>
                </a>
            </li>
            <li>
                <a href="https://AlliesChen.github.io/tags/" title="tags">
                    <span>tags</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/AlliesChen" title="github">
                    <span>github</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://AlliesChen.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="https://AlliesChen.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      æœ‰è¶£çš„ TypeScript å‹åˆ¥ç”¨æ³•èˆ‡æ©Ÿåˆ¶ Part 2
    </h1>
    <div class="post-description">
      Dive into TypeScript&#39;s mechanism
    </div>
    <div class="post-meta"><span title='2022-12-16 15:01:10 +0800 CST'>December 16, 2022</span>&nbsp;Â·&nbsp;Yu-Pang&nbsp;|&nbsp;<a href="https://github.com/AlliesChen/website-hugo/blob/main/content/posts/have_fun_with_typescript_part2.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>

</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><nav id="TableOfContents">
  <ul>
    <li><a href="#levels-of-language">Levels of Language</a></li>
    <li><a href="#generics---æ³›å‹">Generics&ndash; æ³›å‹</a></li>
    <li><a href="#data-structures">Data Structures</a></li>
    <li><a href="#types-are-sets">Types are Sets</a></li>
    <li><a href="#objects-and-records">Objects and Records</a></li>
    <li><a href="#arrays-and-tuples">Arrays and Tuples</a></li>
  </ul>
</nav>
        </div>
    </details>
</div>

  <div class="post-content"><p>ç¹¼ä¸Šä¸€ç¯‡ &ndash; <a href="https://allieschen.github.io/posts/have_fun_with_typescript/">æœ‰è¶£çš„ TypeScript å‹åˆ¥ç”¨æ³•èˆ‡æ©Ÿåˆ¶</a>ï¼Œé€™æ¬¡é–±è®€åˆ° <a href="https://twitter.com/GabrielVergnaud">Gabriel Vergnaud</a> çš„ <a href="https://type-level-typescript.com/">Type-Level TypeScript</a> é€™ç³»åˆ—æ–‡ç« çš„ç¬¬ 1 åˆ° 4 ç« ï¼Œå±¬æ–¼å…è²»é–±è®€çš„ç« ç¯€ï¼Œè®“æˆ‘é‡æ–°èªè­˜äº† TypeScript (ä»¥ä¸‹ç°¡ç¨± TS) çš„å‹åˆ¥ç³»çµ±ï¼›è©²ç³»åˆ—æ–‡ç« ä¸­æœ‰æä¾›å³æ™‚çš„ç¨‹å¼ç¢¼ç·¨è¼¯å€å¡Šï¼Œæ¯ä¸€ç« æœ€å¾Œéƒ½æœ‰å°æ¸¬é©—ï¼Œé–±è®€èˆ‡å­¸ç¿’çš„é«”é©—éƒ½å¾ˆæ£’ï¼Œéå¸¸å€¼å¾—ä¸€çœ‹ã€‚</p>
<p>é€™ç¯‡æ–‡ç« çš„å…§å®¹æ˜¯æˆ‘å€‹äººé‡å°é€™ç³»åˆ—åšçš„ä¸€å€‹å­¸ç¿’ç­†è¨˜ï¼Œåœ¨å¯«é€™ç¯‡æ–‡ç« æ™‚ä¹Ÿæ„å¤–ç™¼ç¾å…¶å¯¦ Gabriel æåˆ°çš„å…§å®¹ï¼ŒTS å®˜ç¶²ä¸Šéƒ½æœ‰æ¢ç›®å¯«åˆ°ï¼›éå»åªæ˜¯è®€éï¼Œå¾æ²’ç†è§£éğŸ˜…ã€‚</p>
<h2 id="levels-of-language">Levels of Language<a hidden class="anchor" aria-hidden="true" href="#levels-of-language">#</a></h2>
<p>è²«ç©¿è©²ç³»åˆ—æ–‡ç« çš„ç¬¬ä¸€å€‹é‡é»ï¼›language of values (value-level) å’Œ language of types (type-level)ï¼ŒJavaScript (ä»¥ä¸‹ç°¡ç¨± JS) å› ç‚º(é‚„)æ²’æœ‰å‹åˆ¥çš„èªæ³•æ‰€ä»¥ 100% æ˜¯ value-level èªè¨€ã€‚</p>
<blockquote>
<p>é‚„æ²’æœ‰ï¼Œä½†æ­£åœ¨ææ¡ˆä¸­çš„å‹åˆ¥è¨»é‡‹&ndash; <a href="https://github.com/tc39/proposal-type-annotations">tc39/proposal-type-annotations: ECMAScript proposal for type syntax that is erased - Stage 1</a></p>
</blockquote>
<p>å¦‚æœå° TS å¯¦ä½œä¸é™Œç”Ÿï¼Œæœ‰å€‹éŒ¯èª¤å°±æ˜¯ï¼š<code>'Somthing' only refers to a type, but is being used as a value here</code>&ndash; <a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAYg9nKBeKBnYAnAlgOwOYDcAUEQMZw7pQBGAhhsrAgUA">TS Playground</a>ï¼›æ­£æ˜¯é€™å€‹ value å’Œ type çš„æ¦‚å¿µã€‚æ–¼æ˜¯ä¹ï¼ŒTS ä¸åªæ˜¯çµ¦ JS å¯„ä½çš„å¤–æ®¼ï¼Œè€Œæ˜¯ç”¨ä¾†æ’°å¯«å‹åˆ¥ï¼Œtype-level ç¨‹å¼èªè¨€ã€‚</p>
<h2 id="generics---æ³›å‹">Generics&ndash; æ³›å‹<a hidden class="anchor" aria-hidden="true" href="#generics---æ³›å‹">#</a></h2>
<p>ä¸Šä¸€ç¯‡æé JS/TS å…§å»ºçš„å‹åˆ¥å¯ä»¥é€éçµ¦ type parameter é€² <code>&lt;type&gt;</code> ä¾†ç”¢ç”Ÿå‹åˆ¥ï¼Œåƒæ˜¯&ndash; <a href="https://www.typescriptlang.org/play?ssl=2&amp;ssc=49&amp;pln=1&amp;pc=1#code/C4TwDgpgBA8gRgKwCrmgXigJQgYwPYBOAJgDwDOwBAlgHYDmANFDQK4C2cEBAfANwBQ+GhSicAblwCGdCDGJcoGGhADuUALKSw5SrUbN2nHgAoAlLyA">TS Playground</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ObjType</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Record</span>&lt;<span style="color:#f92672">string</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">number</span>&gt;;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">beverageOrder</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">Map</span>&lt;<span style="color:#f92672">string</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">number</span>&gt;();
</span></span></code></pre></div><p>éå»æˆ‘ä¸€ç›´ä»¥ç‚ºæ³›å‹çš„æ‡‰ç”¨ä¸€å®šè¦çµ¦ type parameter åšå‹åˆ¥å®£å‘Šï¼Œåƒæ˜¯é€™æ¨£&ndash; <a href="https://www.typescriptlang.org/play?#code/C4TwDgpgBAMg9gcwCrggHgIIBooCEB8UAvFABQAKAXFNlAMIBG1uAlMYbgNwBQ3A9HxpQAFgEsEwiACcocKQBNpUAGYBXAHYBjYKLjr+ggDaJZq4FGCSLqAM6zlUAIYqN23eoDkd0erBnSYI5SjgC2EMDSbI7q8lCiwHZwZn7A3GpaOnpQxsioAUGh1BoA1upwAO7qOJpMZABujoZF6qUV6mxEhCVllWwA3txQQ1CaejbmUhA2qobmJDX5wSEsPMMjY3CGEAB0OaQABgCSvmZQKJDUACR9oJBwDoFLAL4AOuoA8smn59Ak17cQe5QSbTWZPfYsQbDSbAVRSdTAqYzYA8J68UbqcaImwARmI2UQP1IUKGOIATABmAAsWBJ9UaHUIACkAMrvABy23GUh8CFEyhApAahkhUTs8FykDQ6lUIQY0hw3N5+B43AxWJBZPxOSJdL6onk1HJ1Jw6lCEGoACJlHA4JanrS1kKGewoO8GAArCDabbFCAgGzOwxOOzur3aFjbEKOMCkeIQEKu+MhbbAOAAVTAkCkdEcNggpBYopDsEJqDQcE93uAOAwUmCIDQSvUCHwKvRGy2u0QpEtIJxlpw-ZWUAEUEtxqplrVnZ2ez7UzJg+xZJHY4A2pbDgARZeW9kYACyAFFLQBdIA">TS Playground</a>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">LogType</span>&lt;<span style="color:#f92672">A</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">B</span>&gt; <span style="color:#f92672">=</span> (<span style="color:#a6e22e">P</span>: <span style="color:#66d9ef">A</span>, <span style="color:#a6e22e">Cb</span>: <span style="color:#66d9ef">B</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">B</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// A higher order function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// log out the types of a function&#39;s input(parameter) and its output
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">logType</span>(<span style="color:#a6e22e">param</span>: <span style="color:#66d9ef">unknown</span>, <span style="color:#a6e22e">cb</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">val</span>: <span style="color:#66d9ef">unknown</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#66d9ef">unknown</span>) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cb</span>(<span style="color:#a6e22e">param</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`Input Type: </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">param</span><span style="color:#e6db74">}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">nOutput Type = </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">result</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">logType</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">1234</span>,
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">val</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">val</span>)
</span></span><span style="display:flex;"><span>) <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">LogType</span>&lt;<span style="color:#f92672">number</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">string</span>&gt;;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">logType</span>(
</span></span><span style="display:flex;"><span>    {<span style="color:#a6e22e">id</span>: <span style="color:#66d9ef">1234</span>, <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;foo&#34;</span>},
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">val</span>) <span style="color:#f92672">=&gt;</span> Object.<span style="color:#a6e22e">keys</span>(<span style="color:#a6e22e">val</span> <span style="color:#66d9ef">as</span> Object).<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">item</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">toUpperCase</span>())
</span></span><span style="display:flex;"><span>) <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">LogType</span>&lt;<span style="color:#f92672">object</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">Array</span><span style="color:#960050;background-color:#1e0010">&lt;</span><span style="color:#a6e22e">string</span>&gt;<span style="color:#f92672">&gt;</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;res1&#34;</span>, <span style="color:#a6e22e">res1</span>); <span style="color:#75715e">// &#34;1234&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;res2&#34;</span>, <span style="color:#a6e22e">res2</span>); <span style="color:#75715e">// [&#34;ID&#34;, &#34;NAME&#34;]
</span></span></span></code></pre></div><p>åˆè‡­åˆé•·ï¼Œä¸ä½†éœ€è¦å…ˆè¨‚å¥½è¼¸å…¥èˆ‡è¼¸å‡ºçš„ type parametersï¼Œé‚„è¦é  <code>as</code> æŠŠå‹åˆ¥çµ¦ä¸Šå»ï¼Œç”šè‡³åœ¨ <code>res2</code> çš„ <code>Object.keys()</code> ä¸­ä¹Ÿéœ€è¦çµ¦ <code>val</code> åƒæ•¸ç”¨ <code>as</code> åŠ å®šç¾©ï¼Œä¸åƒ…é›£ä»¥è¤‡ç”¨ï¼Œé‚„è¦å¯«å¤ªå¤šç¨‹å¼ç¢¼äº†ã€‚</p>
<p>ä½†é‡æ–°èªè­˜æ³›å‹å¾Œï¼Œæ‰çŸ¥é“å¯ä»¥é€™æ¨£æ‡‰ç”¨&ndash; <a href="https://www.typescriptlang.org/play?#code/GYVwdgxgLglg9mABAGzgcwCoE8AOBTAHgEkwcQoAaRAeXLKgD4AKHAQwCdWBbALkRPpUIAIz5MAbq2R8B5AJSIAvAxp15fWlHqIA3gChEhxBAQBnKInZ5TIZBcXHhLDtzkBuA0ZNhTcZHgA6VDQmAANZC2x8PgASHShcPDhgRDZOLgBfAB0wTW0ovCVEOIT8ZMtrWygM0LlPQysoEHYkKxs7Dwy9PW9zCtMARiLggqYBgCYAZgAWKgkpBWVEACkAZWoAOQDzdhgwNBhgLHnkOXcesws28eH0UZ0YABM+CZmqMG48PgAiYDg4b4ZOaSU5KFTUYQAKzw0ACAGs8FhTCc5AEuKwcEwYFA8FwwYhsbiAlA4ABVHD4dgAYVYpjwTDO5wuPj8gWCTG+bQG3yoXPOvVZQXQHOuPP643cQA">TS Playground</a>ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#75715e">// A higher order function
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">// log out the types of a function&#39;s input(parameter) and its output
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">logType</span>&lt;<span style="color:#f92672">Input</span><span style="color:#960050;background-color:#1e0010">,</span> <span style="color:#a6e22e">Output</span>&gt;(<span style="color:#a6e22e">param</span>: <span style="color:#66d9ef">Input</span>, <span style="color:#a6e22e">cb</span><span style="color:#f92672">:</span> (<span style="color:#a6e22e">val</span>: <span style="color:#66d9ef">Input</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">Output</span>)<span style="color:#f92672">:</span> <span style="color:#a6e22e">Output</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">const</span> <span style="color:#a6e22e">result</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">cb</span>(<span style="color:#a6e22e">param</span>);
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">`Input Type: </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">param</span><span style="color:#e6db74">}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">nOutput Type = </span><span style="color:#e6db74">${</span><span style="color:#66d9ef">typeof</span> <span style="color:#a6e22e">result</span><span style="color:#e6db74">}</span><span style="color:#e6db74">`</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">result</span>;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res1</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">logType</span>(
</span></span><span style="display:flex;"><span>    <span style="color:#ae81ff">1234</span>,
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">val</span>) <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">val</span>)
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">res2</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">logType</span>(
</span></span><span style="display:flex;"><span>    {<span style="color:#a6e22e">id</span>: <span style="color:#66d9ef">1234</span>, <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;foo&#34;</span>},
</span></span><span style="display:flex;"><span>    (<span style="color:#a6e22e">val</span>) <span style="color:#f92672">=&gt;</span> Object.<span style="color:#a6e22e">keys</span>(<span style="color:#a6e22e">val</span>).<span style="color:#a6e22e">map</span>(<span style="color:#a6e22e">item</span> <span style="color:#f92672">=&gt;</span> <span style="color:#a6e22e">item</span>.<span style="color:#a6e22e">toUpperCase</span>())
</span></span><span style="display:flex;"><span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;res1&#34;</span>, <span style="color:#a6e22e">res1</span>); <span style="color:#75715e">// &#34;1234&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;res2&#34;</span>, <span style="color:#a6e22e">res2</span>); <span style="color:#75715e">// [&#34;ID&#34;, &#34;NAME&#34;]
</span></span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ° <code>logType</code> ä½¿ç”¨äº†æ³›å‹å®£å‘Š <code>Input</code> å’Œ <code>Output</code>ï¼Œä½†åœ¨æŒ‡æ´¾çµ¦ <code>res1</code> ä½¿ç”¨æ™‚å»ä¸å¿…çµ¦ type parametersï¼Œè€Œæ˜¯åéä¾†ï¼Œç”± TS å¾çµ¦é€²å»çš„åƒæ•¸æ¨æ–· <code>Input</code> å’Œ <code>Output</code> è©²æœ‰çš„å‹åˆ¥æ˜¯ä»€éº¼ã€‚</p>
<h2 id="data-structures">Data Structures<a hidden class="anchor" aria-hidden="true" href="#data-structures">#</a></h2>
<p>åœ¨åŸç³»åˆ—æ–‡ç« çš„ç¬¬äºŒç« &ndash; <a href="https://type-level-typescript.com/types-are-just-data#data-structures">Types are just data - Data Structures</a> è©²ç¯€ä¸­æåˆ°ï¼š</p>
<blockquote>
<p>In our type-level world, we have four built-in data structures at our disposal:</p>
</blockquote>
<p>å››å€‹ type-level çš„è³‡æ–™çµæ§‹ç‚ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-typescript" data-lang="typescript"><span style="display:flex;"><span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ObjectType</span><span style="color:#f92672">:</span> {<span style="color:#a6e22e">key1</span>: <span style="color:#66d9ef">number</span>, <span style="color:#a6e22e">key2</span>: <span style="color:#66d9ef">string</span>};
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æœ‰é™çš„éµ(key)æ•¸é…å°ä¸åŒå‹åˆ¥çš„å€¼(value)
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">RecordType</span><span style="color:#f92672">:</span> {[<span style="color:#a6e22e">key</span>: <span style="color:#66d9ef">string</span>]<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span>};
</span></span><span style="display:flex;"><span><span style="color:#75715e">// é¡ä¼¼ object typeï¼Œä½†ç‚ºä¸é™æ•¸é‡çš„éµé…å°ç‰¹å®šå‹åˆ¥çš„å€¼
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">TupleType</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">string</span>, <span style="color:#66d9ef">number</span>];
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æœ‰é™é•·åº¦çš„è³‡æ–™é›†ï¼Œå€‹åˆ¥è³‡æ–™çš„å‹åˆ¥å¯èƒ½ä¸åŒ
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">type</span> <span style="color:#a6e22e">ArrayType</span>: <span style="color:#66d9ef">number</span>[];
</span></span><span style="display:flex;"><span><span style="color:#75715e">// æœªçŸ¥é•·åº¦çš„è³‡æ–™é›†ï¼Œä½†èˆ‡ record type ç›¸åƒï¼Œæ‰€æœ‰è³‡æ–™æœ‰ç‰¹å®šçš„å‹åˆ¥
</span></span></span></code></pre></div><p>é€™å››å€‹è³‡æ–™çµæ§‹åˆ†åˆ¥åœ¨è©²ç³»åˆ—æ–‡ç« çš„ï¼Œ</p>
<ul>
<li>ç¬¬ä¸‰ç«  <a href="https://type-level-typescript.com/objects-and-records">Objects &amp; Records</a></li>
<li>ç¬¬å››ç«  <a href="https://type-level-typescript.com/arrays-and-tuples">Arrays &amp; Tuples</a></li>
</ul>
<p>æ·±å…¥çš„è¨è«–å››ç¨®å‹åˆ¥è³‡æ–™çµæ§‹çš„ç‰¹æ€§ï¼Œå¦‚ä½• merge åŠ extract ç•¶ä¸­çš„å±¬æ€§&hellip;ç­‰ã€‚</p>
<h2 id="types-are-sets">Types are Sets<a hidden class="anchor" aria-hidden="true" href="#types-are-sets">#</a></h2>
<p>åœ¨åŸç³»åˆ—æ–‡ç« çš„ç¬¬äºŒç« &ndash; <a href="https://type-level-typescript.com/types-are-just-data#types-are-sets">Types are just data - Types are Sets</a> æåˆ°ï¼Œ</p>
<blockquote>
<p>An interesting feature of TypeScript is that a value can belong to more than one type.</p>
</blockquote>
<p>é€™æ˜¯ç¬¬äºŒå€‹è²«ç©¿ç³»åˆ—æ–‡ç« çš„é‡é»&ndash; <strong>assignability</strong>ï¼›</p>
<p>ä¸‹é¢é€™å€‹éŒ¯èª¤è¨Šæ¯åœ¨ TypeScript å¸¸è¦‹åˆ°ï¼Œ</p>
<blockquote>
<p>&ldquo;Type A is not assignable to Type B&rdquo;</p>
</blockquote>
<p>æ”¾å€‹æ–¹å‘æƒ³ï¼Œç•¶&quot;A is assignable to B&quot;ï¼ŒA å³æ˜¯ B çš„ subsetï¼ŒB çš„å‹åˆ¥ç¯„åœæ¶µè“‹ A çš„å‹åˆ¥ç¯„åœï¼Œæ‰€ä»¥å¯ä»¥æŠŠ A æ”¾é€² B è£¡ï¼ŒGabriel (è©²æ–‡ç« ä½œè€…) ç¨±ä¹‹ç‚º assignabilityã€‚</p>
<h2 id="objects-and-records">Objects and Records<a hidden class="anchor" aria-hidden="true" href="#objects-and-records">#</a></h2>
<p>æ–‡ç« ç¬¬ä¸‰ç« ä¸­æåˆ°ï¼Œé—œæ–¼ç‰©ä»¶å‹åˆ¥ï¼Œåœ¨ TS ä¸­è·Ÿ JS ä¸åŒçš„åœ°æ–¹ï¼š</p>
<ul>
<li>åœ¨ type-levelï¼Œè¦è®€ç‰©ä»¶çš„å±¬æ€§ä¸èƒ½ç”¨ dot (<code>obj.prop</code>) åªèƒ½ç”¨ square brackets notation: <code>obj[&quot;prop&quot;]</code>
<blockquote>
<p><code>namespace</code> ä¸­ <code>export</code> å‡ºä¾†çš„ç‰©ä»¶å€’æ˜¯å¯ä»¥ç”¨ dot è®€å–&ndash; <a href="https://www.typescriptlang.org/play?#code/CYUwxgNghgTiAEA7KBbEBnADlMCBmA9gfAN4CwAUPNfCAB6YEwAu8zAnpggEazwC88ABQBKAQD546ZjACWiAOYBuSgF9KlMAUTT4ACxAQIBAFzxCBAHS8YA4WP6SARAAlDx+AHUmEYE5UUmtroBBAglsYKQgZGBKIiQA">TS Playground</a></p>
</blockquote>
</li>
<li>Value-level (JS) çš„ Logical AND (<code>&amp;&amp;</code>) / OR (<code>||</code>) operator å’Œ type-level (TS) ä¸­ <a href="https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#union-types">union</a> (<code>|</code>) / <a href="https://www.typescriptlang.org/docs/handbook/2/objects.html#intersection-types">intersection</a> (<code>&amp;</code>) é‹ä½œæ©Ÿåˆ¶æ˜¯ä¸åŒçš„&ndash; <a href="https://www.typescriptlang.org/play?#code/JYOwLgpgTgZghgYwgAgMIHsA26rIN4CwAUMqclBACYBcyIArgLYBG0A3MWcgOYUQi0AzmCihuHEmWaZ6EWgxbtiAX2LFQkWIhQZsuQpNJxMABwAWceU1ZQJqosQToQwnlkq6ctT7gC8+TjIKGmQAJgBWcIAaQNJeCH5aACJQgEZwpJjDZGlZWgAGLK5jc0tkVKKyAHoq5AABMEEAWggADxMIBDAWqCgcWOQYdHRk5jgoJJU1IicXMGRIV39udx8AbSTgpOQAHx3kJPj+JIBdR2dBLAgAOmxuAApFsABKZBqwyOQm5AAVMxQAG7GWTIdAwA5bZCgNyYDxYfoOIhgACeHQWEGEP1RKH8602VG2+0OfBApzetWEohA3F2dGs0CAA">TS Playground</a></li>
<li>JS ä¸­ç‰©ä»¶å±¬æ€§çš„ merging æœƒé€é spread operator (<code>...</code>) æˆ–ç‰©ä»¶æ–¹æ³•ï¼Œå¦‚ <code>Object.assign()</code> é”æˆï¼Œåœ¨ type-level ä¸­å‰‡æ˜¯ç”¨ <code>&amp;</code>ã€<code>extends</code>ï¼Œæˆ– <code>implements</code> ç­‰é”æˆï¼Œå¯ä»¥åƒè€ƒ stackoverflow ä¸Šçš„<a href="https://stackoverflow.com/a/52682220/18972098">é€™å‰‡å›ç­”</a>ã€‚</li>
</ul>
<blockquote>
<p>é¡Œå¤–è©±ï¼šGabriel æœ‰æåˆ°ç”±æ–¼åœ¨ <code>type</code> ä½¿ç”¨ <code>&amp;</code> ä¾† merge å±¬æ€§ TS æœƒæŒçºŒéæ­·éç•¶ä¸­å…¨éƒ¨çš„å‹åˆ¥ä¾†ç”¢ç”Ÿæœ€çµ‚çš„çµæœï¼Œå¦‚æœä¸æ˜¯éœ€è¦æ³›å‹ï¼Œ<code>interface</code> æœƒæ˜¯æ•ˆèƒ½ä¸Šæ¯”è¼ƒå¥½çš„é¸æ“‡ï¼Œè©³ç´°çš„èªªæ˜å¯ä»¥åƒè€ƒ<a href="https://github.com/microsoft/TypeScript/wiki/Performance#preferring-interfaces-over-intersections">é€™ç¯‡æ–‡ç« çš„ç« ç¯€</a>ã€‚</p>
</blockquote>
<h2 id="arrays-and-tuples">Arrays and Tuples<a hidden class="anchor" aria-hidden="true" href="#arrays-and-tuples">#</a></h2>
<p>æ–‡ç« ç¬¬å››ç« ä¸­æåˆ°ï¼Œé—œæ–¼é™£åˆ—å‹åˆ¥çš„æ‡‰ç”¨å’Œç‰¹è‰²ï¼š</p>
<ul>
<li>
<p>æƒ³è¦å–åˆ°é™£åˆ—ä¸­çš„å€¼çš„ã€Œå‹åˆ¥ã€å¯ä»¥ç”¨ <code>arr[number]</code></p>
</li>
<li>
<p>ä½¿ç”¨ <code>keyof</code> å¯èƒ½ä¸æ˜¯ç†æƒ³çš„é¸æ“‡ï¼Œè©¦æƒ³åœ¨ JS ä¸­ä¸‹é¢é€™æ®µç¨‹å¼ç¢¼æœƒå°å‡ºä»€éº¼ï¼Ÿåœ¨ type-level ä¹Ÿæœƒæ‹¿åˆ°é€™äº›å…§å»ºçš„å±¬æ€§éµï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">arr</span> <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;foo&#39;</span>, <span style="color:#e6db74">&#39;bar&#39;</span>, <span style="color:#e6db74">&#39;map&#39;</span>]
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">arr</span>[<span style="color:#e6db74">&#39;map&#39;</span>])
</span></span></code></pre></div></li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://AlliesChen.github.io/tags/first/">first</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://AlliesChen.github.io/posts/page-flip_animation_with_css/">
    <span class="title">Â« Prev</span>
    <br>
    <span>é€é CSS è£½ä½œæ›¸æœ¬ç¿»é æ•ˆæœ</span>
  </a>
  <a class="next" href="https://AlliesChen.github.io/posts/react_re-render/">
    <span class="title">Next Â»</span>
    <br>
    <span>å¦‚ä½•é¿å… React é‡æ–°æ¸²æŸ“å…ƒä»¶</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2024 <a href="https://AlliesChen.github.io/">YP&#39;s Dev Memo</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
